---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "beget_postgresql_service Resource - Beget"
description: |-
  PostgreSQL managed service. Manages a cloud PostgreSQL instance with configurable display name, region, tariff, allowed subnet CIDRs, and some postgresql.conf parameters.
---

# beget_postgresql_service (Resource)

PostgreSQL managed service. Manages a cloud PostgreSQL instance with configurable display name, region, tariff, allowed subnet CIDRs, and some postgresql.conf parameters.

## Example Usage
```terraform
data "beget_postgresql_configurations" "config_list" {
  version = "16.4"
  region  = "ru1"
}

resource "beget_postgresql_service" "main" {
  display_name     = "PostgreSQL Terraform"
  description      = "PostgreSQL service for app backend"
  region           = "ru1"
  configuration_id = keys(data.beget_postgresql_configurations.config_list.configurations)[0]
}
```
```terraform
data "beget_regions" "regions_list" {}

data "beget_postgresql_configurations" "config_list" {
  version = "16.4"
  region  = data.beget_regions.regions_list.regions.ru1.id
}

resource "beget_postgresql_service" "tuned" {
  display_name     = "PostgreSQL Terraform"
  region           = data.beget_regions.regions_list.regions.ru1.id
  configuration_id = data.beget_postgresql_configurations.config_list.configurations.ru1_postgresql164_v1_40.id
  params = {
    autovacuum_analyze_scale_factor       = "0.15"
    autovacuum_max_workers                = "3"
    autovacuum_naptime                    = "3600"
    autovacuum_vacuum_cost_delay          = "20"
    autovacuum_vacuum_cost_limit          = "-1"
    autovacuum_vacuum_insert_scale_factor = "0.15"
    autovacuum_vacuum_insert_threshold    = "1000"
    autovacuum_vacuum_scale_factor        = "0.2"
    autovacuum_work_mem                   = "-1"
    effective_cache_size                  = "149360"
    effective_io_concurrency              = "4"
    maintenance_work_mem                  = "131072"
    max_connections                       = "50"
    max_wal_size                          = "960"
    min_wal_size                          = "80"
    random_page_cost                      = "4"
    shared_buffers                        = "48384"
    work_mem                              = "1024"
  }
}
```

> **Note**
> The `params` block is a closed set of attributes. Only the keys listed
> in the schema below are supported. Any other keys will be ignored by
> Terraform during configuration parsing.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `configuration_id` (String) Tariff/configuration ID for the service (use beget_postgresql_configurations data source to look up valid IDs).
- `display_name` (String) Display name for the PostgreSQL service in the Beget Control Panel.
- `region` (String) Region where the service is created. Changing this field will recreate the service.

### Optional

- `description` (String) Description of the PostgreSQL service.
- `params` (Attributes) PostgreSQL configuration parameters. All attributes have defaults that match the backend defaults. (see [below for nested schema](#nestedatt--params))
- `subnet_cidrs` (Set of String) Set of allowed external networks. Use single IP addresses only (e.g. 198.51.100.10). CIDR notation (203.0.113.0/24) is not supported yet and will be added in future releases. Empty set disables external access.

### Read-Only

- `id` (String) Service identifier assigned when the service is created.

<a id="nestedatt--params"></a>
### Nested Schema for `params`

Optional:

- `autovacuum_analyze_scale_factor` (String) Fraction of the table size to add to autovacuum_analyze_threshold when deciding whether to trigger an ANALYZE.
- `autovacuum_max_workers` (String) Maximum number of autovacuum workers.
- `autovacuum_naptime` (String) Delay between autovacuum runs in seconds.
- `autovacuum_vacuum_cost_delay` (String) Cost delay value that will be used in automatic VACUUM operations in milliseconds.
- `autovacuum_vacuum_cost_limit` (String) Cost limit value that will be used in automatic VACUUM operations.
- `autovacuum_vacuum_insert_scale_factor` (String) Fraction of the table size to add to autovacuum_vacuum_insert_threshold when deciding whether to trigger a VACUUM.
- `autovacuum_vacuum_insert_threshold` (String) Number of inserted tuples needed to trigger a VACUUM in any one table.
- `autovacuum_vacuum_scale_factor` (String) Fraction of the table size to add to autovacuum_vacuum_threshold when deciding whether to trigger a VACUUM.
- `autovacuum_work_mem` (String) Memory available to autovacuum workers in kilobytes.
- `effective_cache_size` (String) Planner's assumption about the effective size of the disk cache that is available to a single query in kilobytes.
- `effective_io_concurrency` (String) Number of concurrent disk I/O operations that PostgreSQL expects can be executed simultaneously.
- `maintenance_work_mem` (String) Maximum amount of memory to be used by maintenance operations in kilobytes.
- `max_connections` (String) Maximum number of client connections.
- `max_wal_size` (String) Maximum size to let the WAL grow during automatic checkpoints in megabytes.
- `min_wal_size` (String) WAL space that is reserved to handle spikes in WAL usage in megabytes.
- `random_page_cost` (String) Planner's estimate of the cost of a non-sequentially-fetched disk page.
- `shared_buffers` (String) Amount of memory the database server uses for shared memory buffers in kilobytes.
- `work_mem` (String) Base maximum amount of memory to be used by a query operation in kilobytes.



